!function(){var a=function(){var a={},b={},c=function(){return function(){}},d=function(a,d){var e={id:a,exports:{}};d(e.exports,c(),e);var f=b[a]=e.exports;return f},e=function(c){if(b.hasOwnProperty(c))return b[c];if(a.hasOwnProperty(c))return d(c,a[c]);throw new Error('Cannot find module "'+c+'"')};return e.register=function(b,c){a[b]=c},e}();a.register("chapeau/application",function(b,c,d){"use strict";var e,f,g,h,i,j,k,l={}.hasOwnProperty,m=function(a,b){function c(){this.constructor=a}for(var d in b)l.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};"undefined"!=typeof window&&null!==window?window.global=h=window:null==h&&(h={}),k=a("underscore"),f=a("chaplin"),j=a("chapeau/lib/utils"),g=a("chapeau/models/collection"),h.mediator=i=a("chapeau/mediator"),d.exports=e=function(a){function b(a){k.extend(this.settings,this.options,a),h.dummyCollection=new g,this.settings.globalAutoload&&this.autoload(),b.__super__.constructor.call(this,this.settings)}return m(b,a),b.prototype.settings={controllerSuffix:"-controller",collectionsAutoSingleton:!0,globalAutoload:!0},b.prototype.classList={views:{},collections:{},models:{},helpers:{},templates:{},controllers:{},misc:{},bases:{}},b.prototype.orderedRequireList={views:[],collections:[],models:[],helpers:[],templates:[],controllers:[],misc:[],bases:[]},b.prototype.initMediator=function(){var a,c,d,e;if(this.settings.collectionsAutoSingleton){e=this.classList.collections;for(c in e)a=e[c],d=j.pluralize(c.replace(/-collection$/,"")),i[d]=new a}return i.canUseLocalStorage=this._checkLocalStorage(),b.__super__.initMediator.apply(this,arguments)},b.prototype._checkLocalStorage=function(){var a,b;b="test";try{return localStorage.setItem(b,b),localStorage.removeItem(b),!0}catch(c){return a=c,!1}},b.prototype.autoload=function(){var a,b,c,d,e,f,g,i;for(h.application=this,i=(h.require||require).list(),f=0,g=i.length;g>f;f++)c=i[f],e=c.split("/")[0],this.orderedRequireList[e]?"views"!==e||k.endsWith(c,"-view")?k(c).startsWith("helpers/base")?this.orderedRequireList.bases.push(c):this.orderedRequireList[e].push(c):this.orderedRequireList.templates.push(c):this.orderedRequireList.misc.push(c);return d=function(a,b){var c;return-1!==(c=b.indexOf("abstract"))||-1!==a.indexOf("abstract")?c:b.split("/").length-a.split("/").length},a=["view","layout","controller","model","collection","collection_view"],b=function(b,c){return-1===(b=a.indexOf(b.split("/").pop()))?1:-1===(c=a.indexOf(c.split("/").pop()))?-1:b-c},this.orderedRequireList.views.sort(d),this.orderedRequireList.controllers.sort(d),this.orderedRequireList.models.sort(d),this.orderedRequireList.collections.sort(d),this.orderedRequireList.bases.sort(b),this.preload("bases"),this.preload("helpers"),this.preload("models"),this.preload("collections"),this.preload("templates"),this.preload("views"),this.preload("controllers")},b.prototype.preload=function(a){var b,c,d,e,f,g,i;for(i=this.orderedRequireList[a],f=0,g=i.length;g>f;f++){switch(e=i[f],c=e.split("/"),c.shift(),"views"!==a&&"templates"!==a&&"controllers"!==a||c[c.length-2]!==c[c.length-1].replace("-view","")||(c[c.length-2]=""),b=c.join("-"),a){case"views":case"collections":case"controllers":d=k.classify(b);break;case"bases":d=k.classify(b.replace("base-",""));break;default:d=k.classify(""+b+"-"+a.slice(0,-1))}h[d]=this.classList[a][b]=require(e)}},b.prototype.start=function(){return"function"==typeof this.beforeStart?this.beforeStart(function(a){return function(){return b.__super__.start.apply(a,arguments)}}(this)):b.__super__.start.apply(this,arguments)},b}(f.Application)}),a.register("chapeau/mediator",function(b,c,d){"use strict";var e,f;e=a("chaplin"),f=e.mediator,f.onLy=function(a){return this.offLy(a),this.on.apply(this,arguments)},f.offLy=function(a){return delete f._events[a]},d.exports=f}),a.register("chapeau/dispatcher",function(){}),a.register("chapeau/composer",function(){}),a.register("chapeau/controllers/controller",function(b,c,d){"use strict";var e,f,g,h,i={}.hasOwnProperty,j=function(a,b){function c(){this.constructor=a}for(var d in b)i.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};"undefined"!=typeof window&&null!==window?window.global=g=window:null==g&&(g={}),h=a("underscore"),e=a("chaplin"),d.exports=f=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return j(b,a),b.prototype.beforeAction=function(a,c){return"production"!==g.ENV&&log("[c='font-size: 1.2em;color:#d33682;font-weight:bold']▚ "+c.name+"[c]		",c),b.__super__.beforeAction.apply(this,arguments)},b}(e.Controller)}),a.register("chapeau/models/collection",function(b,c,d){"use strict";var e,f,g,h,i,j,k={}.hasOwnProperty,l=function(a,b){function c(){this.constructor=a}for(var d in b)k.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};"undefined"!=typeof window&&null!==window?window.global=h=window:null==h&&(h={}),j=a("underscore"),e=a("chaplin"),g=a("chapeau/models/model"),i=a("chapeau/lib/utils"),d.exports=f=function(a){function b(){this._className=i.className(this).replace("Collection",""),this.model||(this.model=h[this._className+"Model"]||g),this.subset={},this.storeName="App::"+this._className,b.__super__.constructor.apply(this,arguments)}return l(b,a),j(b.prototype).extend(e.SyncMachine),b.prototype.model=null,b.prototype.subset={},b.prototype.meta=null,b.prototype.subfilter=function(a){return this.subcollection({filter:a})},b.prototype.first=function(a){var c;return c=b.__super__.first.apply(this,arguments),a?this.subfilter(function(a){return-1!==c.indexOf(a)}):c},b.prototype.last=function(a){var c;return c=b.__super__.last.apply(this,arguments),a?this.subfilter(function(a){return-1!==c.indexOf(a)}):c},b.prototype.where=function(a,b){var c,d;return c="where:"+JSON.stringify(a),j.isEmpty(a)?b?void 0:[]:(d=function(b){var c;for(c in a)if(a[c]!==b.get(c))return!1;return!0},b?this.find(d):this.subset[c]||(this.subset[c]=this.subfilter(d)))},b}(e.Collection)}),a.register("chapeau/models/model",function(b,c,d){"use strict";var e,f,g,h={}.hasOwnProperty,i=function(a,b){function c(){this.constructor=a}for(var d in b)h.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};g=a("underscore"),e=a("chaplin"),d.exports=f=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return i(b,a),g(b.prototype).extend(e.SyncMachine),b.prototype.get=function(a){var c;return this[c="get"+a.charAt(0).toUpperCase()+a.slice(1)]?this[c]():b.__super__.get.apply(this,arguments)},b.prototype.set=function(a,c){var d;return"string"==typeof a&&this[d="set"+a.charAt(0).toUpperCase()+a.slice(1)]?this[d](c):b.__super__.set.apply(this,arguments)},b}(e.Model)}),a.register("chapeau/views/layout",function(b,c,d){"use strict";var e,f,g,h,i,j,k={}.hasOwnProperty,l=function(a,b){function c(){this.constructor=a}for(var d in b)k.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};"undefined"!=typeof window&&null!==window?window.global=h=window:null==h&&(h={}),j=a("underscore"),e=a("chaplin"),g=a("chapeau/views/view"),i=a("chapeau/lib/utils"),d.exports=f=function(a){function b(){this._className=i.className(this),b.__super__.constructor.apply(this,arguments)}return l(b,a),b.prototype.isExternalLink=function(a){var b,c,d;return b="_blank"===a.target||"external"===a.rel||"https:"!==(c=a.protocol)&&"http:"!==c&&":"!==c&&"file:"!==c&&c!==location.protocol||(d=a.hostname)!==location.hostname&&""!==d},b}(e.Layout)}),a.register("chapeau/views/view",function(b,c,d){"use strict";var e,f,g,h,i,j,k={}.hasOwnProperty,l=function(a,b){function c(){this.constructor=a}for(var d in b)k.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};"undefined"!=typeof window&&null!==window?window.global=h=window:null==h&&(h={}),j=a("underscore"),e=a("chaplin"),f=a("chapeau/models/model"),i=a("chapeau/lib/utils"),d.exports=g=function(a){function b(){this.initAttributes(),this.model||(this.model=new f),b.__super__.constructor.apply(this,arguments)}return l(b,a),b.prototype.autoRender=!0,b.prototype.getTemplateFunction=function(){return this.template?this.template:(this._className=this._className||i.className(this),h[this._className.replace(/View$/,"Template")])},b.prototype.initAttributes=function(){var a;return this._className=this._className||i.className(this),a=j.dasherize(this._className.charAt(0).toLowerCase()+this._className.slice(1)),this.className=this.className?this.className+" "+a:a},b.prototype.dispose=function(){return"production"===h.ENV||this.noDebug||log("[c='font-weight:bold;margin-left:20px;color:#268bd2;']❖ "+this._className+"::[c][c='font-weight:bold;color:#b58900']dispose[c]		",this),("function"==typeof this.beforeDispose?this.beforeDispose(function(a){return function(c){return c!==!1?b.__super__.dispose.apply(a,arguments):void 0}}(this)):void 0)||b.__super__.dispose.apply(this,arguments)},b.prototype.delegateEvents=function(){return b.__super__.delegateEvents.apply(this,arguments),this.delegateHammerEvents()},b.prototype.doRender=function(){var a,b;return b=this.getTemplateFunction(),"function"!=typeof b?this:(a=b(this.getTemplateData()),null!=h.toStaticHTML&&(a=toStaticHTML(a)),this.$el.html(a),this.enhance(),"function"==typeof this.afterRender?this.afterRender():void 0)},b.prototype.render=function(){return this.disposed?!1:("production"!==h.ENV&&(this.noDebug||log("[c='font-weight:bold;margin-left:20px;color:#268bd2;']❖ "+this._className+"::[c][c='font-weight:bold;color:#b58900']render[c]		",this)),("function"==typeof this.beforeRender?this.beforeRender(function(a){return function(b){return b!==!1?a.doRender():void 0}}(this)):void 0)||this.doRender())},b.prototype.enhance=function(){return this.$("a[data-route]").each(function(){var a,b,c,d,f,g;this.$=$(this),c=this.$.is("[data-route-reset]")?{}:j.extend({},mediator.lastRouteParams),b=null,g=this.$.data();for(a in g)f=g[a],"route"===a?b=f:"routeReset"!==a&&0===a.indexOf("route")&&(c[(a=a.substr(5)).charAt(0).toLowerCase()+a.slice(1)]=f);d="#";try{d=e.utils.reverse(b,c)}catch(h){}return this.$.attr("href",d),this.$.off("click"),this.$.on("click",function(){var a,b,c;if(!e.utils.modifierKeyPressed(event))return a=event.currentTarget,c="A"===a.nodeName,b=a.getAttribute("href")||a.getAttribute("data-href")||null,e.utils.redirectTo({url:b}),event.preventDefault(),!1})})},b}(e.View)}),a.register("chapeau/views/collection_view",function(b,c,d){"use strict";var e,f,g,h,i,j,k={}.hasOwnProperty,l=function(a,b){function c(){this.constructor=a}for(var d in b)k.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};"undefined"!=typeof window&&null!==window?window.global=h=window:null==h&&(h={}),j=a("underscore"),e=a("chaplin"),g=a("chapeau/views/view"),i=a("chapeau/lib/utils"),d.exports=f=function(a){function b(){this._className=i.className(this),this.itemView||(this.itemView=h[this._className.replace("View","ItemView")]),!this.listSelector&&h[this._className.replace(/View$/,"Template")]&&(this.listSelector=".list"),this.initAttributes(),this.model||(this.model=new Model),b.__super__.constructor.apply(this,arguments)}return l(b,a),b.prototype.getTemplateFunction=g.prototype.getTemplateFunction,b.prototype.initAttributes=g.prototype.initAttributes,b.prototype.useCssAnimation=!0,b.prototype.enhance=g.prototype.enhance,b.prototype.dispose=g.prototype.dispose,b.prototype.render=g.prototype.render,b.prototype.getTemplateData=function(){var a;return a=b.__super__.getTemplateData.apply(this,arguments),this.model&&(a=j.extend(e.utils.serialize(this.model,a)),"function"!=typeof this.model.isSynced||this.model.isSynced()||(a.synced=!1)),a},b.prototype.doRender=function(){var a,b,c;return c=this.getTemplateFunction(),"function"!=typeof c?this:(a=c(this.getTemplateData()),null!=h.toStaticHTML&&(a=toStaticHTML(a)),this.$el.html(a),b=j.result(this,"listSelector"),this.$list=b?this.$(b):this.$el,this.initFallback(),this.initLoadingIndicator(),this.renderItems&&this.renderAllItems(),this.enhance(),"function"==typeof this.afterRender?this.afterRender():void 0)},b.prototype.resetCollection=function(a){return this.stopListening(this.collection),this.collection=a,this.listenTo(this.collection,"add",this.itemAdded),this.listenTo(this.collection,"remove",this.itemRemoved),this.listenTo(this.collection,"reset sort",this.itemsReset),this.itemsReset()},b}(e.CollectionView)}),a.register("chapeau/lib/utils",function(b,c,d){"use strict";var e,f;f=a("underscore"),e={functionName:function(a){var b;return b=a.toString().substr(9),b.substr(0,b.indexOf("("))},className:function(a){var b;return b=a.constructor.toString().substr(9),b.substr(0,b.indexOf("("))},_pluralRules:[["m[ae]n$","men"],["(eau)x?$","$1x"],["(child)(?:ren)?$","$1ren"],["(pe)(?:rson|ople)$","$1ople"],["^(m|l)(?:ice|ouse)$","$1ice"],["(matr|cod|mur|sil|vert|ind)(?:ix|ex)$","$1ices"],["(x|ch|ss|sh|zz)$","$1es"],["([^ch][ieo][ln])ey$","$1ies"],["([^aeiouy]|qu)y$","$1ies"],["(?:([^f])fe|(ar|l|[eo][ao])f)$","$1$2ves"],["sis$","ses"],["^(apheli|hyperbat|periheli|asyndet|noumen)(?:a|on)$","$1a"],["^(phenomen|criteri|organ|prolegomen|w+hedr)(?:a|on)$","$1a"],["^(agend|addend|millenni|ov|dat|extrem|bacteri|desiderat)(?:a|um)$","$1a"],["^(strat|candelabr|errat|symposi|curricul|automat|quor)(?:a|um)$","$1a"],["(her|at|gr)o$","$1oes"],["^(alumn|alg|vertebr)(?:a|ae)$","$1ae"],["(alumn|syllab|octop|vir|radi|nucle|fung|cact)(?:us|i)$","$1i"],["(stimul|termin|bacill|foc|uter|loc)(?:us|i)$","$1i"],["([^l]ias|[aeiou]las|[emjzr]as|[iu]am)$","$1"],["([^l]ias|[aeiou]las|[emjzr]as|[iu]am)$","$1"],["(e[mn]u)s?$","$1s"],["(alias|[^aou]us|tlas|gas|ris)$","$1es"],["^(ax|test)is$","$1es"],["([^aeiou]ese)$","$1"],["s?$","s"]],pluralize:function(a){var b,c,d,e,f;for(f=this._pluralRules,d=0,e=f.length;e>d;d++)if(c=f[d],(b=new RegExp(c[0])).test(a))return a.replace(b,c[1]);return a}},"function"==typeof Object.seal&&Object.seal(e),d.exports=e}),a.register("chapeau",function(b,c,d){d.exports={Application:a("chapeau/application"),mediator:a("chapeau/mediator"),Controller:a("chapeau/controllers/controller"),Collection:a("chapeau/models/collection"),Model:a("chapeau/models/model"),Layout:a("chapeau/views/layout"),View:a("chapeau/views/view"),CollectionView:a("chapeau/views/collection_view"),utils:a("chapeau/lib/utils")}});var b=function(b,c,d){a.register("backbone",function(a,c,d){d.exports=b}),a.register("underscore",function(a,b,d){d.exports=c}),a.register("chaplin",function(a,b,c){c.exports=d})};if("function"==typeof define&&define.amd)define(["backbone","underscore","chapeau"],function(c,d){return b(c,d,Chaplin),a("chapeau")});else if("object"==typeof module&&module&&module.exports)b(require("backbone"),require("underscore"),require(window.Chaplin)),module.exports=a("chapeau");else{if("function"!=typeof require)throw new Error("Chapeau requires Common.js or AMD modules");b(window.Backbone,window._||window.Backbone.utils,window.Chaplin),window.Chapeau=a("chapeau")}}();